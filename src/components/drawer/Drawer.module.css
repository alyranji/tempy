/* تعریف متغیرهای رنگی (فرضی) - شما باید اینها را در فایل استایل گلوبال خود تعریف کنید */
:root {
  --color-background: #ffffff;
  /* سفید */
  --color-card: #f9f9f9;
  /* کمی روشن‌تر از سفید برای پس‌زمینه کارت */
  --color-border: #e0e0e0;
  /* مرزهای روشن */
  --color-primary: #007bff;
  /* رنگ اصلی (آبی) */
  --color-primary-foreground: #ffffff;
  --color-secondary: #f0f0f0;
  /* رنگ ثانویه */
  --color-secondary-foreground: #333333;
  --color-muted-foreground: #6c757d;
  /* متن کمرنگ */
  --color-accent: #f0f0f0;
  /* رنگ تأکید برای هاور */
  --color-destructive: #dc3545;
  /* رنگ حذف */
}

.backdrop {
  position: fixed;
  inset: 0;
  /* top: 0; right: 0; bottom: 0; left: 0; */
  background-color: rgb(0 0 0 / 0.6);
  /* bg-black/60 */
  backdrop-filter: blur(4px);
  /* backdrop-blur-sm */
  z-index: 50;
  opacity: 0;
  pointer-events: none;
  transition: opacity 300ms;

  &.backdrop-open {
    opacity: 1;
    pointer-events: auto;
  }
}

.drawer {
  position: fixed;
  top: 0;
  right: 0;
  height: 100%;
  width: 100%;
  max-width: 480px;
  /* sm:w-[480px] */
  background-color: var(--color-background);
  border-right: 1px solid var(--color-border);
  z-index: 50;
  box-shadow:
    0 20px 25px -5px rgb(0 0 0 / 0.1),
    0 8px 10px -6px rgb(0 0 0 / 0.1);
  /* shadow-2xl */
  transition: transform 300ms ease-out;
  transform: translateX(100%);
  /* -translate-x-full */

  @media (min-width: 640px) {
    /* sm breakpoint */
    width: 480px;
  }

  &.drawer-open {
    transform: translateX(0);
    /* translate-x-0 */
  }

  .container {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.5rem;
    /* p-6 */
    border-bottom: 1px solid var(--color-border);
    background-color: var(--color-card);

    .close-button {
      padding: 0.5rem;
      /* p-2 */
      border-radius: 0.5rem;
      /* rounded-lg */
      transition: background-color 150ms;
      border: none;
      background: none;
      cursor: pointer;

      &:hover {
        background-color: var(--color-accent);
      }
    }

    .header-info {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      /* gap-3 */

      .header-text {
        display: flex;
        flex-direction: column;

        .title {
          font-size: 1.25rem;
          /* text-xl */
          font-weight: 700;
          /* font-bold */
        }

        .subtitle {
          font-size: 0.875rem;
          /* text-sm */
          color: var(--color-muted-foreground);
        }
      }

      .cart-icon-wrapper {
        position: relative;

        .icon-lg {
          height: 1.5rem;
          /* h-6 */
          width: 1.5rem;
          /* w-6 */
          color: var(--color-primary);
        }

        .cart-badge {
          position: absolute;
          top: -0.5rem;
          /* -top-2 */
          right: -0.5rem;
          /* -right-2 */
          background-color: var(--color-primary);
          color: var(--color-primary-foreground);
          font-size: 0.75rem;
          /* text-xs */
          font-weight: 700;
          /* font-bold */
          border-radius: 9999px;
          /* rounded-full */
          height: 1.25rem;
          /* h-5 */
          width: 1.25rem;
          /* w-5 */
          display: flex;
          align-items: center;
          justify-content: center;
        }
      }
    }
  }

  .items-area {
    flex: 1;
    /* flex-1 */
    overflow-y: auto;
    padding: 1.5rem;
    /* p-6 */

    .empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      text-align: center;
      gap: 1rem;
      /* gap-4 */

      .empty-icon-wrapper {
        width: 6rem;
        /* w-24 */
        height: 6rem;
        /* h-24 */
        border-radius: 9999px;
        /* rounded-full */
        background-color: var(--color-secondary);
        display: flex;
        align-items: center;
        justify-content: center;

        .empty-icon {
          height: 3rem;
          /* h-12 */
          width: 3rem;
          /* w-12 */
          color: var(--color-muted-foreground);
        }

        & > svg {
          height: 3rem;
          width: 3rem;
          color: var(--color-muted-foreground);
        }
      }

      .empty-title {
        font-size: 1.125rem;
        /* text-lg */
        font-weight: 600;
        /* font-semibold */
        margin-bottom: 0.5rem;
        /* mb-2 */
      }

      .empty-subtitle {
        font-size: 0.875rem;
        /* text-sm */
        color: var(--color-muted-foreground);
      }

      .empty-action-button {
        margin-top: 1rem;
        /* mt-4 */
        padding: 0.75rem 1.5rem;
        /* px-6 py-3 */
        background-color: var(--color-primary);
        color: var(--color-primary-foreground);
        border-radius: 0.5rem;
        /* rounded-lg */
        font-weight: 500;
        /* font-medium */
        transition: background-color 150ms;
        border: none;
        cursor: pointer;

        &:hover {
          background-color: color-mix(
            in srgb,
            var(--color-primary) 90%,
            transparent
          );
          /* hover:bg-primary/90 */
        }
      }
    }

    .items-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      /* space-y-4 */
    }

    .cart-item {
      background-color: var(--color-card);
      border: 1px solid var(--color-border);
      border-radius: 0.5rem;
      /* rounded-lg */
      padding: 1rem;
      /* p-4 */
      transition: border-color 150ms;

      &:hover {
        border-color: color-mix(in srgb, var(--color-primary) 50%, transparent);
        /* hover:border-primary/50 */
      }

      .item-content {
        display: flex;
        gap: 1rem;
        /* gap-4 */
      }

      .item-image {
        position: relative;
        width: 6rem;
        /* w-24 */
        height: 6rem;
        /* h-24 */
        border-radius: 0.5rem;
        /* rounded-lg */
        overflow: hidden;
        background-color: var(--color-secondary);
        flex-shrink: 0;

        .image-object-cover {
          object-fit: cover;
        }

        .image-placeholder {
          display: flex;
          align-items: center;
          justify-content: center;
          height: 100%;
          color: var(--color-muted-foreground);
          font-size: 0.75rem;
        }
      }

      .item-info {
        flex: 1;
        /* flex-1 */
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        text-align: right;

        .item-text {
          .item-title {
            font-weight: 600;
            /* font-semibold */
            font-size: 0.875rem;
            /* text-sm */
            margin-bottom: 0.25rem;
            /* mb-1 */
            overflow: hidden;
            line-clamp: 1;
            -webkit-line-clamp: 1;
          }

          .item-description {
            font-size: 0.75rem;
            /* text-xs */
            color: var(--color-muted-foreground);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            /* line-clamp-2 */
          }
        }

        .item-controls {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-top: 0.5rem;
          /* mt-2 */

          .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            /* gap-2 */
            background-color: var(--color-secondary);
            border-radius: 0.5rem;
            /* rounded-lg */
            padding: 0.25rem;
            /* p-1 */

            .quantity-button {
              padding: 0.25rem;
              /* p-1 */
              background: none;
              border: none;
              border-radius: 0.25rem;
              /* rounded */
              transition: background-color 150ms;
              cursor: pointer;

              &:hover {
                background-color: var(--color-accent);
              }

              & > svg {
                height: 1rem;
                /* h-4 */
                width: 1rem;
                /* w-4 */
              }
            }

            .quantity-display {
              font-size: 0.875rem;
              /* text-sm */
              font-weight: 500;
              /* font-medium */
              width: 2rem;
              /* w-8 */
              text-align: center;
            }
          }

          .item-price-wrapper {
            .item-price {
              font-size: 0.875rem;
              /* text-sm */
              font-weight: 700;
              /* font-bold */
              color: var(--color-primary);
            }

            .item-currency {
              font-size: 0.75rem;
              /* text-xs */
              color: var(--color-muted-foreground);
            }
          }
        }
      }

      .remove-button {
        padding: 0.5rem;
        /* p-2 */
        border-radius: 0.5rem;
        /* rounded-lg */
        transition:
          background-color 150ms,
          color 150ms;
        align-self: flex-start;
        /* self-start */
        background: none;
        border: none;
        cursor: pointer;

        &:hover {
          background-color: color-mix(
            in srgb,
            var(--color-destructive) 10%,
            transparent
          );
          /* hover:bg-destructive/10 */
          color: var(--color-destructive);
          /* hover:text-destructive */
        }

        & > svg {
          height: 1rem;
          /* h-4 */
          width: 1rem;
          /* w-4 */
        }
      }
    }
  }

  .footer {
    border-top: 1px solid var(--color-border);
    background-color: var(--color-card);
    padding: 1.5rem;
    /* p-6 */
    display: flex;
    flex-direction: column;
    gap: 1rem;
    /* space-y-4 */

    .total-price-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      text-align: right;

      .total-price-amount {
        text-align: left;

        .total-price {
          font-size: 1.5rem;
          /* text-2xl */
          font-weight: 700;
          /* font-bold */
          color: var(--color-primary);
        }

        .total-currency {
          font-size: 0.875rem;
          /* text-sm */
          color: var(--color-muted-foreground);
        }
      }

      .total-details {
        .total-label {
          font-size: 0.875rem;
          /* text-sm */
          color: var(--color-muted-foreground);
        }

        .total-items {
          font-size: 0.75rem;
          /* text-xs */
          color: var(--color-muted-foreground);
        }
      }
    }

    .action-buttons {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      /* space-y-2 */

      .checkout-button,
      .view-cart-button {
        width: 100%;
        /* w-full */
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        /* gap-2 */
        padding: 0.75rem 1.5rem;
        /* px-6 py-3 */
        border-radius: 0.5rem;
        /* rounded-lg */
        transition: background-color 150ms;
        text-decoration: none;
        /* برای Link/a */
        cursor: pointer;
        border: none;
      }

      .checkout-button {
        background-color: var(--color-primary);
        color: var(--color-primary-foreground);
        font-weight: 700;
        /* font-bold */

        &:hover {
          background-color: color-mix(
            in srgb,
            var(--color-primary) 90%,
            transparent
          );
          /* hover:bg-primary/90 */
        }

        & > svg {
          height: 1.25rem;
          /* h-5 */
          width: 1.25rem;
          /* w-5 */
        }
      }

      .view-cart-button {
        background-color: var(--color-secondary);
        color: var(--color-secondary-foreground);
        font-weight: 500;
        /* font-medium */

        &:hover {
          background-color: color-mix(
            in srgb,
            var(--color-secondary) 80%,
            transparent
          );
          /* hover:bg-secondary/80 */
        }
      }
    }
  }
}
