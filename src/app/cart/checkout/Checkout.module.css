/* تعریف متغیرهای رنگی (فرضی) - بر اساس استاندارد Tailwind */
:root {
    --color-background: #ffffff;
    --color-page-bg: #f3f4f650;
    /* bg-secondary/30 */
    --color-card: #ffffff;
    --color-border: #e5e7eb;
    /* border */
    --color-primary: #007bff;
    /* primary */
    --color-primary-light: #e0f2ff;
    /* primary/10 */
    --color-primary-foreground: #ffffff;
    --color-secondary: #f3f4f6;
    /* secondary */
    --color-muted-foreground: #6c757d;
    /* muted-foreground */
    --color-destructive: #dc3545;
    /* destructive */
    --color-success: #10b981;
    /* green-600 */

    --spacing-container: 1.5rem;
    /* px-4 */
    --spacing-section: 3rem;
    /* py-12 */
}

.pageWrapper {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    background-color: var(--color-page-bg);
}

.mainContent {
    flex: 1;
    padding: var(--spacing-section) var(--spacing-container);
}

.container {
    max-width: 1400px;
    /* mx-auto */
    margin-left: auto;
    margin-right: auto;
}

.contentWrapper {
    max-width: 88rem;
    /* max-w-7xl */
    margin-left: auto;
    margin-right: auto;
}

.checkoutHeader {
    margin-bottom: 2rem;
    /* mb-8 */
    text-align: right;

    .title {
        font-size: 1.875rem;
        /* text-3xl */
        font-weight: 700;
        margin-bottom: 0.5rem;
        /* mb-2 */
    }

    .subtitle {
        color: var(--color-muted-foreground);
    }
}

.checkoutLayout {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    /* gap-8 */

    @media (min-width: 1024px) {
        /* lg breakpoint */
        grid-template-columns: 1fr 1fr 1fr;
    }
}

/* --- Shared Card Styles --- */
.card {
    background-color: var(--color-card);
    border: 1px solid var(--color-border);
    border-radius: 0.75rem;
    /* rounded-xl */
    padding: 1.5rem;
    /* p-6 */
    box-shadow:
        0 1px 3px 0 rgba(0, 0, 0, 0.1),
        0 1px 2px 0 rgba(0, 0, 0, 0.06);
    /* shadow-sm */
}

.cardHeader {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    /* gap-3 */
    margin-bottom: 1.5rem;
    /* mb-6 */
}

.iconCircle {
    width: 2.5rem;
    /* w-10 */
    height: 2.5rem;
    /* h-10 */
    border-radius: 9999px;
    /* rounded-full */
    background-color: var(--color-primary-light);
    /* bg-primary/10 */
    display: flex;
    align-items: center;
    justify-content: center;

    &>svg {
        height: 1.25rem;
        /* h-5 */
        width: 1.25rem;
        /* w-5 */
        color: var(--color-primary);
    }
}

.cardTitle {
    font-size: 1.25rem;
    /* text-xl */
    font-weight: 700;
}

/* --- Form Styles (Customer Information) --- */
.formSection {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    /* space-y-6 */

    @media (min-width: 1024px) {
        /* lg:col-span-2 */
        grid-column: span 2 / span 2;
    }
}

.form {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
    /* space-y-5 */
}

.formGrid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.25rem;
    /* gap-5 */

    @media (min-width: 768px) {
        /* md breakpoint */
        grid-template-columns: repeat(2, 1fr);
    }
}

.formGroup {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    /* space-y-2 */
    text-align: right;
}

.label {
    font-size: 0.875rem;
    /* text-sm */
    font-weight: 500;
}

.input,
.textarea {
    /* شبیه‌سازی Input/Textarea کامپوننت Shadcn/UI */
    display: flex;
    width: 100%;
    padding: 0.5rem 0.75rem;
    font-size: 1rem;
    line-height: 1.5rem;
    border-radius: 0.375rem;
    border: 1px solid var(--color-border);
    background-color: var(--color-background);
    transition:
        border-color 150ms,
        box-shadow 150ms;

    &:focus {
        border-color: var(--color-primary);
        outline: none;
        box-shadow: 0 0 0 2px color-mix(in srgb, var(--color-primary) 25%, transparent);
    }
}

.textarea {
    resize: vertical;
}

.inputError {
    border-color: var(--color-destructive);

    &:focus {
        border-color: var(--color-destructive);
        box-shadow: 0 0 0 2px color-mix(in srgb, var(--color-destructive) 25%, transparent);
    }
}

.errorMessage {
    font-size: 0.875rem;
    /* text-sm */
    color: var(--color-destructive);
}

/* --- Payment Method Styles --- */
.paymentMethodGrid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
    /* gap-4 */

    @media (min-width: 768px) {
        /* md breakpoint */
        grid-template-columns: repeat(3, 1fr);
    }
}

.paymentOption {
    padding: 1rem;
    /* p-4 */
    border-radius: 0.5rem;
    /* rounded-lg */
    border: 2px solid;
    transition: all 150ms;
    text-align: center;
    cursor: pointer;
    background-color: var(--color-card);

    &>svg {
        height: 2rem;
        /* h-8 */
        width: 2rem;
        /* w-8 */
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 0.5rem;
        /* mb-2 */
        color: var(--color-primary);
    }
}

.paymentDefault {
    border-color: var(--color-border);

    &:hover {
        border-color: color-mix(in srgb, var(--color-primary) 50%, transparent);
        /* hover:border-primary/50 */
    }
}

.paymentSelected {
    border-color: var(--color-primary);
    background-color: color-mix(in srgb, var(--color-primary) 5%, transparent);
    /* bg-primary/5 */
}

.optionTitle {
    font-weight: 500;
}

.optionSubtitle {
    font-size: 0.75rem;
    /* text-xs */
    color: var(--color-muted-foreground);
    margin-top: 0.25rem;
    /* mt-1 */
}

.paymentInfoBox {
    margin-top: 1.5rem;
    /* mt-6 */
    padding: 1rem;
    /* p-4 */
    background-color: color-mix(in srgb, var(--color-primary) 5%, transparent);
    /* bg-primary/5 */
    border-radius: 0.5rem;
    /* rounded-lg */
    border: 1px solid color-mix(in srgb, var(--color-primary) 20%, transparent);
    /* border-primary/20 */
}

.paymentInfoText {
    font-size: 0.875rem;
    /* text-sm */
    text-align: right;
}

/* --- Summary Styles --- */
.summaryColumn {
    @media (min-width: 1024px) {
        /* lg:col-span-1 */
        grid-column: span 1 / span 1;
    }
}

.orderSummary {
    /* ترکیب card + sticky top-24 */
    background-color: var(--color-card);
    border: 1px solid var(--color-border);
    border-radius: 0.75rem;
    /* rounded-xl */
    padding: 1.5rem;
    /* p-6 */
    box-shadow:
        0 1px 3px 0 rgba(0, 0, 0, 0.1),
        0 1px 2px 0 rgba(0, 0, 0, 0.06);
    /* shadow-sm */
    position: sticky;
    top: 6rem;
    /* top-24 (فرضی) */

    .summaryTitle {
        font-size: 1.25rem;
        /* text-xl */
        font-weight: 700;
        margin-bottom: 1.5rem;
        /* mb-6 */
        text-align: right;
    }
}

/* Summary Items */
.summaryItemsList {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    /* space-y-4 */
    margin-bottom: 1.5rem;
    /* mb-6 */
    max-height: 16rem;
    /* max-h-64 */
    overflow-y: auto;
}

.summaryItem {
    display: flex;
    gap: 0.75rem;
    /* gap-3 */
    text-align: right;
}

.itemImageWrapper {
    position: relative;
    width: 4rem;
    /* w-16 */
    height: 4rem;
    /* h-16 */
    border-radius: 0.5rem;
    /* rounded-lg */
    overflow: hidden;
    background-color: var(--color-secondary);
    flex-shrink: 0;

    .imagePlaceholder {
        height: 100%;
        width: 100%;
        background-color: var(--color-secondary);
    }
}

.itemInfoSummary {
    flex: 1;
    min-width: 0;
}

.itemTitleSummary {
    font-weight: 500;
    font-size: 0.875rem;
    /* text-sm */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    /* line-clamp-1 شبیه‌سازی */
}

.itemPriceDetail {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: 0.25rem;
    /* mt-1 */
    font-size: 0.875rem;
    /* text-sm */

    .quantityText {
        color: var(--color-muted-foreground);
    }

    .itemPriceSummary {
        font-weight: 500;
    }
}

/* Price Details */
.priceDetails {
    border-top: 1px solid var(--color-border);
    padding-top: 1rem;
    /* pt-4 */
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    /* space-y-3 */
    margin-bottom: 1.5rem;
    /* mb-6 */
}

.priceRow {
    display: flex;
    align-items: center;
    justify-content: space-between;
    text-align: right;
}

.priceLabel {
    color: var(--color-muted-foreground);
}

.priceValue {
    font-weight: 500;
}

.freeShipping {
    font-weight: 500;
    color: var(--color-success);
    /* text-green-600 */
}

/* Final Total */
.finalTotalSection {
    border-top: 1px solid var(--color-border);
    padding-top: 1rem;
    /* pt-4 */
    margin-bottom: 1.5rem;
    /* mb-6 */

    .finalTotalLabel {
        font-size: 1.125rem;
        /* text-lg */
        font-weight: 700;
    }

    .finalTotalAmount {
        text-align: left;

        .finalPrice {
            font-size: 1.5rem;
            /* text-2xl */
            font-weight: 700;
            color: var(--color-primary);
        }

        .finalCurrency {
            font-size: 0.875rem;
            /* text-sm */
            color: var(--color-muted-foreground);
        }
    }
}

/* Pay Button and Secure Info */
.actionButton {
    /* استایل پایه برای شبیه‌سازی Button */
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    font-weight: 500;
    transition:
        background-color 150ms,
        color 150ms,
        border-color 150ms;
    text-decoration: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border: 1px solid transparent;

    &.primaryButton {
        background-color: var(--color-primary);
        color: var(--color-primary-foreground);

        &:hover:not(:disabled) {
            background-color: color-mix(in srgb,
                    var(--color-primary) 90%,
                    transparent);
        }

        &:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    }

    &.largeButton {
        /* size="lg" */
        padding: 0.75rem 2rem;
        font-size: 1.125rem;
    }

    &.fullWidth {
        width: 100%;
        /* w-full */
    }

    &>svg {
        margin-left: 0.5rem;
        /* ml-2 */
        height: 1.25rem;
        width: 1.25rem;
    }
}

.spinner {
    /* animate-spin rounded-full h-5 w-5 border-2 border-background border-t-transparent ml-2 */
    height: 1.25rem;
    width: 1.25rem;
    border-radius: 9999px;
    border: 2px solid var(--color-primary-foreground);
    border-top-color: transparent;
    margin-left: 0.5rem;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

.securePaymentInfo {
    margin-top: 1rem;
    /* mt-4 */
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    /* gap-2 */
    font-size: 0.875rem;
    /* text-sm */
    color: var(--color-muted-foreground);

    &>svg {
        height: 1rem;
        /* h-4 */
        width: 1rem;
        /* w-4 */
    }

    .greenIcon {
        color: var(--color-success);
        /* text-green-600 */
    }
}

/* --- Empty State Styles (From Empty Cart Handling) --- */
.emptyMainContent {
    /* override bg-secondary/30 */
    background-color: var(--color-background);
}

.emptyStateContainer {
    max-width: 42rem;
    /* max-w-2xl */
    margin-left: auto;
    margin-right: auto;
}

.emptyState {
    text-align: center;
    padding-top: 5rem;
    /* py-20 */
    padding-bottom: 5rem;

    .emptyIconWrapper {
        width: 8rem;
        /* w-32 */
        height: 8rem;
        /* h-32 */
        border-radius: 9999px;
        /* rounded-full */
        background-color: var(--color-secondary);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1.5rem;
        /* mb-6 */
        margin-left: auto;
        /* mx-auto */
        margin-right: auto;

        &>svg {
            height: 4rem;
            /* h-16 */
            width: 4rem;
            /* w-16 */
            color: var(--color-muted-foreground);
        }
    }

    .emptyTitle {
        font-size: 1.5rem;
        /* text-2xl */
        font-weight: 700;
        margin-bottom: 0.75rem;
        /* mb-3 */
    }

    .emptySubtitle {
        color: var(--color-muted-foreground);
        margin-bottom: 2rem;
        /* mb-8 */
    }
}